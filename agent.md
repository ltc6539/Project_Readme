# 多 Agent 协作标书撰写与评审系统

## 项目简介

本项目旨在实现一套基于多 Agent 协作的自动化投标文件生成和评审系统，专注于满足中国政府投标文件的规范要求，旨在提高投标文件撰写效率和质量。

系统通过模块化设计，包括大纲生成 Agent、内容生成 Agent、内容评审 Agent，并结合语义检索工具实现高效的内容撰写与持续迭代优化。

## 整体架构

<div align="center">
  <img src="docs\agent_diagram.png" width="700" alt="环保agent架构图" />
</div>

## 系统流程设计

1. **输入（Input）**

   - 招标信息由“招标解析模块”提取关键需求内容，为后续撰写提供基础数据。

2. **生成内容结构（Outline 生成）**

   - 系统根据招标要求生成初步内容结构大纲。该环节调用 **bidding Agent** 识别出核心模块与子内容主题。

3. **关键词处理（Keyword 拆解）**

   - 对内容结构中的关键词进一步细化与分解，调用 **Outline Agent** 生成子主题关键词。

4. **内容撰写阶段**

   - 系统依托语义检索机制，从产品资料库中抽取相关文本，通过 **内容生成模块（调用 Generate Agent）**，自动撰写各模块的详细内容。

5. **内容质量控制**

   - 每个模块完成后，系统自动进行审核，调用 **Evaluate Agent** 对内容进行合规性与质量评估，并输出 “pass” 或 “needs_improvement” 等评级。

6. **内容迭代优化（如需）**

   - 若评审反馈为“needs_improvement”，系统将结合反馈意见重新调用内容生成模块，进行最多 3 轮的自动优化。

7. **输出最终文件**

   - 所有模块评审通过后，系统将各部分内容汇总为最终的投标文件草稿。

## 核心模块介绍

本系统由多个智能 Agent 协同完成，包括但不限于：

- **Outline Agent**：根据招标要求提取内容结构大纲
- **Generate Agent**：结合语义检索与生成模型，输出内容草案
- **Evaluate Agent**：对撰写内容进行自动审阅与合规性评估

这些 Agent 被嵌入在业务流程各关键节点中，完成自动化撰写与评审任务。

## 使用指南

1. 克隆仓库至本地
2. 安装依赖：
   ```bash
   pip install -r requirements.txt
   ```
3. 配置你的 OpenAI API Key。
4. 初始化语义检索数据库。
5. 运行主程序：
   ```bash
   python openai_agent.py
   ```

## TODO

1. 国内模型适配（试了 deepseek-v3，不能输出格式化的 json）
2. 评审标准的完善
